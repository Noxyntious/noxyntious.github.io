<!doctype html>
<html>
    <head>
        <title>ericlock 2</title>
        <link rel="stylesheet" href="clock.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Jersey+15&display=swap"
            rel="stylesheet"
        />
         <meta charset="UTF-8">
        <style>
            .jersey-15-regular {
                font-family: "Jersey 15", sans-serif;
                font-weight: 400;
                font-style: normal;
            }
            .timeclass {
                font-size: 120pt;
                color: #fff;
                text-align: center;
                color: lightblue;
            }
            body {
                background-color: black;
            }
            .dateclass {
                font-size: 60pt;
                color: #fff;
                text-align: center;
                color: lightblue;
            }
            p {
                margin-top: -40px;
            }
            .clock {
                position: fixed;
                top: 80px;
                left: 20px;
            }
            .cat {
                color: lightblue;
                font-size: clamp(7px, 1.2vw, 16px);
                font-family: monospace;
                line-height: 1;
                white-space: pre;
            }
            .container {
                display: flex;
                height: 100vh;
                width: 100vw;
            }
            .catcontainer {
                position: fixed;
                top: 80px;
                right: 10px;
                display: flex;
                align-items: flex-start;
                justify-content: flex-end;
                flex: 1;
                max-width: calc(100vw - 600px);
            }
            .weather {
                position: fixed;
                bottom: 20px;
                left: 20px;
                color: lightblue;
                font-size: 48px;
                font-family: "Jersey 15", sans-serif;
            }
            .weather-temp {
                font-size: 80px;
                font-weight: bold;
            }
            .weather-desc {
                font-size: 40px;
                margin-top: 12px;
            }
            .sun-times {
                position: fixed;
                bottom: 20px;
                right: 20px;
                color: lightblue;
                font-size: 48px;
                font-family: "Jersey 15", sans-serif;
                text-align: right;
            }
            .sun-desc {
                font-size: 40px;
                margin-top: 12px;
            }

        </style>
    </head>
    <body onclick='(function(){document.querySelector("body").requestFullscreen();})();'>
        <div class="container">
            <div class="clock">
                <p>
                    <span id="time" class="timeclass jersey-15-regular"></span>
                </p>
                <p>
                    <span id="day" class="dateclass jersey-15-regular"></span>
                    <span id="date" class="dateclass jersey-15-regular"></span>
                </p>
            </div>
            <div class="catcontainer">
                <p>
                <p id="cat" class="cat"
                        >⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⣉⣙⣷⡦⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢤⣴⠖⠛⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣉⠛⠓⠶⢤⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣤⣽⡿⠟⠁⠀⠀⠀⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠙⠛⠷⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣤⣤⣤⣤⣀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣤⡶⠶⠛⠉⠉⠉⠉⠁⠀⠀⠀⠀⠉⠙⠿⠓⠒⠶⢺⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⢶⡶⠶⠶⠶⠖⠖⠛⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣴⡟⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠘⣧⡀⠀⠀⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣼⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠈⠻⢤⣼⡏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⢻⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⡀⢀⣿⡿⠶⠶⣤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀
                        ⠀⠀⠀⠀⢸⡇⠀⣀⣀⠀⢀⣀⣤⡀⠀⠀⠀⠀⠸⠶⠶⠚⠛⠋⢹⣿⣿⣟⣉⠉⠒⠀⠻⣦⣠⣤⣤⣤⣄⣀⠀⠀
                        ⠀⢀⣤⢾⣿⣷⣶⡍⠙⠙⠛⠋⠉⠀⠀⢴⡶⠀⠀⠀⠀⢀⣠⡶⠟⠛⠛⣷⠀⠉⠁⠀⠀⠈⣧⡀⠀⠩⣀⠈⢹⣆
                        ⠀⣠⠔⢉⡴⢿⣿⡟⠛⠛⠛⠶⣤⣀⠀⠀⠀⠀⠀⠀⣴⡿⠋⠀⠀⠀⢀⡉⠀⠀⠀⠀⢀⣼⠛⠛⢛⣿⡿⠀⣾⡟
                        ⠀⠁⣰⠋⢀⡿⠁⠀⠀⠀⠀⠀⠀⠉⠻⣦⡀⠀⠀⣼⠟⠀⠀⠀⢀⣠⣾⢁⣀⣤⣴⡶⠟⣁⣴⠞⠋⠉⢀⣼⣿⠁
                        ⠀⠀⠉⠀⠈⠷⣄⡀⠀⠀⠀⠀⠀⠀⠀⠈⢿⡗⠚⡏⠀⢀⣤⡶⠛⠋⠉⠉⠉⠉⠀⣠⣾⠟⢁⣀⣤⣶⣿⠟⠁⠀
                        ⠀⠀⠀⠀⠀⠀⠀⠈⠉⠑⠲⠤⣄⣦⣤⡴⠞⠁⠀⠉⠙⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠹⠿⠾⠾⠟⠛⠁⠀⠀⠀⠀</p
                    >;
                </p>
            </div>
            <div class="weather">
                <div id="weather-temp" class="weather-temp">Loading...</div>
                <!-- <div id="weather-desc" class="weather-desc">Pardubice</div> -->
                <div id="weather-humidity" class="weather-desc"></div>
            </div>
            <div class="sun-times">
                <div id="sunset-time" class="sun-desc">Loading...</div>
            </div>
        </div>
        <script>
            // create a function to update the date and time
            // create a function to update the date and time
            function updateDateTime() {
                // create a new `Date` object
                const now = new Date();

                // get the current date and time as a string
                var time = now.toLocaleTimeString([], {
                    hour12: window.hour12Format,
                });
                const date = now.toLocaleDateString();
                const unixtime = now.getTime();
                // update the `textContent` property of the `span` element with the `id` of `datetime`
                var days = [
                    "Sunday",
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday",
                    "Saturday",
                ];
                var day = days[now.getDay()];
                document.querySelector("#time").textContent = time;
                document.querySelector("#date").textContent = " " + date;
                document.querySelector("#day").textContent = day + " ";
                document.querySelector("#unixtime").textContent =
                    "Unix: " + unixtime;
            }

            // Weather function for Pardubice
            async function updateWeather() {
                // Pardubice coordinates
                const latitude = 50.0343;
                const longitude = 15.7812;
                const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,uv_index&daily=temperature_2m_max,temperature_2m_min&timezone=Europe/Prague`;
                const sunUrl = `https://api.sunrise-sunset.org/json?lat=${latitude}&lng=${longitude}&formatted=0`;

                try {
                    // Fetch weather data
                    const weatherResponse = await fetch(weatherUrl);
                    const weatherData = await weatherResponse.json();

                    const temp = Math.round(weatherData.current.temperature_2m);
                    const humidity = weatherData.current.relative_humidity_2m;
                    const windSpeed = Math.round(weatherData.current.wind_speed_10m);
                    const maxTemp = Math.round(weatherData.daily.temperature_2m_max[0]);
                    const minTemp = Math.round(weatherData.daily.temperature_2m_min[0]);
                    const uvIndex = Math.round(weatherData.current.uv_index);

                    // Fetch sunrise/sunset data
                    const sunResponse = await fetch(sunUrl);
                    const sunData = await sunResponse.json();

                    // Convert UTC times to local Prague time
                    const sunrise = new Date(sunData.results.sunrise).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', timeZone: 'Europe/Prague'});
                    const sunset = new Date(sunData.results.sunset).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', timeZone: 'Europe/Prague'});

                    // Update weather elements
                    const tempElement = document.querySelector("#weather-temp");
                    const detailsElement = document.querySelector("#weather-humidity");
                    const sunriseElement = document.querySelector("#sunrise-time");
                    const sunsetElement = document.querySelector("#sunset-time");

                    if (tempElement) tempElement.textContent = `${temp}°C`;
                    if (detailsElement) detailsElement.textContent = `${windSpeed} km/h | ${humidity}% | H:${maxTemp}° L:${minTemp}° | UV:${uvIndex}`;
                    if (sunsetElement) sunsetElement.textContent = `+ ${sunrise} | - ${sunset}`;

                } catch (error) {
                    console.error('Weather/Sun fetch error:', error);
                }
            }



            // call the `updateDateTime` function every second
            setInterval(updateDateTime, 10);
            // Update weather every 5 minutes
            updateWeather();
            setInterval(updateWeather, 300000);

        </script>
    </body>
</html>
